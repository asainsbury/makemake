# Create by a Jinja2 template
# https://docs.ansible.com/ansible/latest/user_guide/playbooks_filters_ipaddr.html#basic-tests
# Was a heap of fun making this template!

{% set number = var1 | int -%}
{% for n in range( number ) %}
Host {{var4}}{{n +1}} *.test.local
  hostname {{ var2 | ipaddr('address') | ipmath(n) }}
  StrictHostKeyChecking no
  UserKnownHostsFile=/dev/null
  User user
  LogLevel ERROR

{% endfor %}

